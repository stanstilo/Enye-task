[{"C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\index.js":"1","C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\component\\UserProfile.js":"2","C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\App.js":"3"},{"size":256,"mtime":1610699555805,"results":"4","hashOfConfig":"5"},{"size":4126,"mtime":1610699774484,"results":"6","hashOfConfig":"5"},{"size":187,"mtime":1610699594525,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nn5jka",{"filePath":"10","messages":"11","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\index.js",[],"C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\component\\UserProfile.js",["15"],"import React, {useState, useEffect} from \"react\";\r\n\r\nexport default function App() {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    error: null,\r\n    result: []\r\n  })\r\n\r\n  const [searchValue, setSearchValue] = useState(\"\")\r\n  const [filteredData, setFilteredData] = useState([])\r\n  const [selectValue, setSelectValue] = useState('all')\r\n\r\n\r\n  useEffect(() => {\r\n    const handleLoadData = async() => {\r\n      setData({\r\n        ...data, error:null, result:[], loading: true\r\n      })\r\n      setFilteredData([])\r\n\r\n      try {\r\n        const request = await fetch('https://api.enye.tech/v1/challenge/records')\r\n        const response = await request.json()\r\n        setData({\r\n          ...data,\r\n          loading: false,\r\n          result: response.records.profiles,\r\n          error: null\r\n        })\r\n        setFilteredData(response.records.profiles)\r\n\r\n      } catch (error) {\r\n\r\n        setData({\r\n          ...data,\r\n          loading: false,\r\n          result: [],\r\n          error: error.message\r\n        })\r\n        setFilteredData([])\r\n      }\r\n    }\r\n    handleLoadData()\r\n  }, [])\r\n\r\n  const handleSearchValue = (e) => {\r\n    setSearchValue(e.target.value)\r\n    let inputValue = e.target.value\r\n    let filteredInput = inputValue.length > 0 && data.result.filter(item => item.FirstName.toLowerCase().includes(inputValue.toLowerCase()) || item.LastName.toLowerCase().includes(inputValue.toLowerCase()))\r\n   if(inputValue === \"\"){\r\n     setFilteredData(data.result)\r\n   }else {\r\n     setFilteredData(filteredInput)\r\n   }\r\n  }\r\n\r\n  const handleSelectValue = (e) => {\r\n    setSelectValue(e.target.value)\r\n\r\n    let selectedValue =e.target.value\r\n    let filteredInput = selectedValue.length > 0 && data.result.filter(item => item.Gender.toLowerCase() === selectedValue.toLowerCase() || item.PaymentMethod.toLowerCase() ===selectedValue.toLowerCase())\r\n\r\n    if(e.target.value === \"all\"){\r\n      setFilteredData(data.result)\r\n    }else {\r\n\r\n      setFilteredData(filteredInput)\r\n    }\r\n  }\r\n\r\n  const handleFilterTitle = (title) => {\r\n    const filter = []\r\n    data.result.forEach(item => filter.push(item[title]))\r\n    return [...new Set([...filter])]\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {data.loading && <div><h3>Loading</h3></div>}\r\n      {\r\n        data.error && <div><h3>Error : {data.error}</h3></div>\r\n      }\r\n      {\r\n        data.result && data.result.length > 0 &&\r\n      <>\r\n      <input type=\"text\" placeholder=\"search\"\r\n      value={searchValue}\r\n      onChange={handleSearchValue}\r\n      /><button>Search</button>\r\n      <div>\r\n        Filter: <select value={selectValue} onChange={handleSelectValue}>\r\n          <option value=\"all\">All</option>\r\n    <optgroup label=\"Gender\">\r\n      {\r\n       handleFilterTitle('Gender').map(item => {\r\n         return  <option value={item}>{item}</option>\r\n       })\r\n      }\r\n    </optgroup>\r\n    <optgroup label=\"Payment Method\">\r\n    {\r\n       handleFilterTitle('PaymentMethod').map(item => {\r\n         return  <option value={item}>{item}</option>\r\n       })\r\n      }\r\n    </optgroup>\r\n        </select>\r\n      </div>\r\n     <table>\r\n    <thead>\r\n        <tr>\r\n            <th>First Name</th>\r\n            <th>Last Name</th>\r\n            <th>Gender</th>\r\n            <th>Email</th>\r\n            <th>Phone Number</th>\r\n            <th>Payment Method</th>\r\n            <th>Credit Card Type</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n\r\n      {\r\n         filteredData.length > 0 && filteredData.slice(0,20).map(record => {\r\n          const {\r\n            FirstName,\r\n            LastName,\r\n            Gender,\r\n            Email,\r\n            PhoneNumber,\r\n            PaymentMethod,\r\n            CreditCardType\r\n          } = record\r\n\r\n          return (\r\n            <tr>\r\n            <td>{FirstName}</td>\r\n            <td>{LastName}</td>\r\n            <td>{Gender}</td>\r\n            <td>{Email}</td>\r\n            <td>{PhoneNumber}</td>\r\n            <td>{PaymentMethod}</td>\r\n            <td>{CreditCardType}</td>\r\n        </tr>\r\n          )\r\n        })\r\n      }\r\n\r\n    </tbody>\r\n</table>\r\n      </>\r\n      }\r\n    </div>\r\n  );\r\n}","C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\App.js",[],{"ruleId":"16","severity":1,"message":"17","line":45,"column":6,"nodeType":"18","endLine":45,"endColumn":8,"suggestions":"19"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'data'. Either include it or remove the dependency array. You can also do a functional update 'setData(d => ...)' if you only need 'data' in the 'setData' call.","ArrayExpression",["20"],{"desc":"21","fix":"22"},"Update the dependencies array to be: [data]",{"range":"23","text":"24"},[1107,1109],"[data]"]