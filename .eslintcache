[{"C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\index.js":"1","C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\component\\UserProfile.js":"2","C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\App.js":"3","C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\reportWebVitals.js":"4"},{"size":299,"mtime":1610808936083,"results":"5","hashOfConfig":"6"},{"size":4906,"mtime":1610808950197,"results":"7","hashOfConfig":"6"},{"size":227,"mtime":1610806278557,"results":"8","hashOfConfig":"6"},{"size":362,"mtime":1610547932619,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1nn5jka",{"filePath":"13","messages":"14","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\index.js",[],["20","21"],"C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\component\\UserProfile.js",["22"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./UserProfile.css\";\r\n\r\nexport default function App() {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    error: null,\r\n    result: [],\r\n  });\r\n\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [selectValue, setSelectValue] = useState(\"all\");\r\n\r\n  useEffect(() => {\r\n    const handleLoadData = async () => {\r\n      setData({\r\n        ...data,\r\n        error: null,\r\n        result: [],\r\n        loading: true,\r\n      });\r\n      setFilteredData([]);\r\n\r\n      try {\r\n        const request = await fetch(\r\n          \"https://api.enye.tech/v1/challenge/records\"\r\n        );\r\n        const response = await request.json();\r\n        setData({\r\n          ...data,\r\n          loading: false,\r\n          result: response.records.profiles,\r\n          error: null,\r\n        });\r\n        setFilteredData(response.records.profiles);\r\n      } catch (error) {\r\n        setData({\r\n          ...data,\r\n          loading: false,\r\n          result: [],\r\n          error: error.message,\r\n        });\r\n        setFilteredData([]);\r\n      }\r\n    };\r\n    handleLoadData();\r\n  }, []);\r\n\r\n  const handleSearchValue = (e) => {\r\n    setSearchValue(e.target.value);\r\n    let inputValue = e.target.value;\r\n    let filteredInput =\r\n      inputValue.length > 0 &&\r\n      data.result.filter(\r\n        (item) =>\r\n          item.FirstName.toLowerCase().includes(inputValue.toLowerCase()) ||\r\n          item.LastName.toLowerCase().includes(inputValue.toLowerCase())\r\n      );\r\n    if (inputValue === \"\") {\r\n      setFilteredData(data.result);\r\n    } else {\r\n      setFilteredData(filteredInput);\r\n    }\r\n  };\r\n\r\n  const handleSelectValue = (e) => {\r\n    setSelectValue(e.target.value);\r\n\r\n    let selectedValue = e.target.value;\r\n    let filteredInput =\r\n      selectedValue.length > 0 &&\r\n      data.result.filter(\r\n        (item) =>\r\n          item.Gender.toLowerCase() === selectedValue.toLowerCase() ||\r\n          item.PaymentMethod.toLowerCase() === selectedValue.toLowerCase()\r\n      );\r\n\r\n    if (e.target.value === \"all\") {\r\n      setFilteredData(data.result);\r\n    } else {\r\n      setFilteredData(filteredInput);\r\n    }\r\n  };\r\n\r\n  const handleFilterTitle = (title) => {\r\n    const filter = [];\r\n    data.result.forEach((item) => filter.push(item[title]));\r\n    return [...new Set([...filter])];\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-profile\">\r\n      {data.loading && (\r\n        <div>\r\n          <h3>Loading</h3>\r\n        </div>\r\n      )}\r\n      {data.error && (\r\n        <div>\r\n          <h3>Error : {data.error}</h3>\r\n        </div>\r\n      )}\r\n      {data.result && data.result.length > 0 && (\r\n\r\n        <>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"search\"\r\n            value={searchValue}\r\n            onChange={handleSearchValue}\r\n          />\r\n          <button>Search</button>\r\n\r\n          <div>\r\n            Filter:{\" \"}\r\n            <select value={selectValue} onChange={handleSelectValue}>\r\n              <option value=\"all\">All</option>\r\n              <optgroup label=\"Gender\">\r\n                {handleFilterTitle(\"Gender\").map((item) => {\r\n                  return <option value={item}>{item}</option>;\r\n                })}\r\n              </optgroup>\r\n              <optgroup label=\"Payment Method\">\r\n                {handleFilterTitle(\"PaymentMethod\").map((item) => {\r\n                  return <option value={item}>{item}</option>;\r\n                })}\r\n              </optgroup>\r\n            </select>\r\n          </div>\r\n\r\n          <table className='table'>\r\n            <thead>\r\n              <tr>\r\n                <th>First Name</th>\r\n                <th>Last Name</th>\r\n                <th>Gender</th>\r\n                <th>Email</th>\r\n                <th>Phone Number</th>\r\n                <th>Payment Method</th>\r\n                <th>Credit Card Type</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredData.length > 0 &&\r\n                filteredData.slice(0, 20).map((record) => {\r\n                  const {\r\n                    FirstName,\r\n                    LastName,\r\n                    Gender,\r\n                    Email,\r\n                    PhoneNumber,\r\n                    PaymentMethod,\r\n                    CreditCardType,\r\n                  } = record;\r\n\r\n                  return (\r\n                    <tr>\r\n                      <td>{FirstName}</td>\r\n                      <td>{LastName}</td>\r\n                      <td>{Gender}</td>\r\n                      <td>{Email}</td>\r\n                      <td>{PhoneNumber}</td>\r\n                      <td>{PaymentMethod}</td>\r\n                      <td>{CreditCardType}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\App.js",[],"C:\\Users\\User\\Desktop\\enye-task\\enye-task\\src\\reportWebVitals.js",[],{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","severity":1,"message":"28","line":48,"column":6,"nodeType":"29","endLine":48,"endColumn":8,"suggestions":"30"},"no-native-reassign",["31"],"no-negated-in-lhs",["32"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'data'. Either include it or remove the dependency array. You can also do a functional update 'setData(d => ...)' if you only need 'data' in the 'setData' call.","ArrayExpression",["33"],"no-global-assign","no-unsafe-negation",{"desc":"34","fix":"35"},"Update the dependencies array to be: [data]",{"range":"36","text":"37"},[1202,1204],"[data]"]